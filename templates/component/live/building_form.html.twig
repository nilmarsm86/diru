<div {{ attributes.defaults(stimulusController('live-form', {modal:modal})) }}>

    {{ form_start(form, {
        attr: {
            'data-action': 'live#action:prevent',
            'data-live-action-param': 'save'
        }
    }) }}

{#    {% if form_errors(form) %}#}
{#        {{ component('message:alert', {#}
{#            'icon': 'ix:error',#}
{#            'type': 'danger',#}
{#            'message': "Una obra esta asociada a un proyecto. Para crear una obra nueva, vaya al <a href=" ~ path('app_project_index') ~ ">listado de proyectos</a> y seleccione sobre cual desea crearla."#}
{#        }) }}#}
{#    {% endif %}#}

    {{ include('partials/live_component/_building.html.twig', {
        'name' : form.name,
        'population' : form.population,
        'constructor' : form.constructor,
        'draftsman' : (form.draftsman is defined) ? form.draftsman : null,
        'approvedValueConstruction' : form.approvedValueConstruction,
        'approvedValueEquipment' : form.approvedValueEquipment,
        'approvedValueOther' : form.approvedValueOther,
        'estimatedValueConstruction' : form.estimatedValueConstruction,
        'estimatedValueEquipment' : form.estimatedValueEquipment,
        'estimatedValueOther' : form.estimatedValueOther,
        'constructionAssembly' : form.constructionAssembly,
        'constructionAssemblyComment' : form.constructionAssemblyComment,
        'landNetworkConnections' : form.landNetworkConnections,

    }) }}

    <div class="row mb-3">
        <div class="col-sm-12">
            {{ component('button:submit', {
                icon: (this.bui.id is null) ? 'bi:plus-lg' : 'fa:edit',
                label: (this.bui.id is null) ? 'Agregar' : 'Modificar',
                component: this
            }) }}
        </div>
    </div>
    {{ form_row(form._token) }}
    {{ form_end(form, {render_rest:false}) }}
</div>
